<!Doctype html>
<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
    crossorigin="anonymous">
  
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>
    <style>
      .form-block {
        width: 60%;
        margin-left: auto; 
        margin-right: auto;
        margin-top: 4rem;
      }
      .form-block button {
        margin-top: 1rem;
      }
    </style>
  <title>Simple SDK Form - Multiple Forms</title>
</head>

<body>
  <div class="form-block">
    <div style="text-align:center;">
      <h2 class="form-signin-heading">First Collection Point with custom Token</h2>
    </div>
    <form id="sample_form2" class="form-signin">
      <label for="inputEmail2" class="sr-only">Email address</label>
      <input type="email" id="inputEmail2" class="form-control" placeholder="Email address" required>

      <button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
    </form>
  </div>

  <div class="form-block">
    <div style="text-align:center;">
      <h2 class="form-signin-heading">Second Collection Point with custom Token</h2>
    </div>
    <form id="sample_form3" class="form-signin">
      <label for="inputEmail3" class="sr-only">Email address</label>
      <input type="email" id="inputEmail3" class="form-control" placeholder="Email address" required>
	  
		  
	<ul style="list-style: none;">
        <i style="margin-top: 1em;">
		 <div class="checkbox">
			  <label><input id="combo1PurposeBox" type="checkbox" value="combinedPurpose[0].Id">
				cp2Purpose
			  </label>
		  </div>
		  <div class="checkbox">
			  <label><input id="combo2PurposeBox" type="checkbox" value="combinedPurpose[1].Id">
				cp3Purpose
			  </label>
		  </div>
		  </ul>

      <button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
    </form>
  </div>
  
  
<!-- OneTrust Consent Receipt Start -->
<script
          src="https://appds7c6e.blob.core.windows.net/consent-receipt-scripts/scripts/otconsent-1.0.min.js"
          type="text/javascript"
          charset="UTF-8"
          id="consent-receipt-script">
  triggerId="trigger";
  identifierId="inputEmail";
  confirmationId="confirmation";
  settingsUrl="https://appds7c6e.blob.core.windows.net/consentmanager-settings/9f2f4efb-d1e9-405f-8dda-43054488121b/2b333a4d-d541-453a-b9fc-8fae90c0b068-draft.json";
</script><!-- OneTrust Consent Receipt End -->

<!-- Custom Integration Start -->
<script type="text/javascript" charset="UTF-8">
  $(function () {
    var cp1Purpose = [{Id: "d7ec0010-86b5-4f97-9dfe-9ec1f10c4848"}];
    	var combinedPurpose = [{Id: "3898e9d5-ca85-457c-8b6c-d59df1ed6645"}, {Id: "d7ec0010-86b5-4f97-9dfe-9ec1f10c4848"}];
	
    $("#sample_form2").submit(function (event) {
      event.preventDefault();
      const identifier = $("#inputEmail2").val();
      const token = "eyJhbGciOiJSUzUxMiJ9.eyJvdEp3dFZlcnNpb24iOjEsInByb2Nlc3NJZCI6IjJiMzMzYTRkLWQ1NDEtNDUzYS1iOWZjLThmYWU5MGMwYjA2OCIsInByb2Nlc3NWZXJzaW9uIjoxLCJpYXQiOiIyMDE5LTEwLTE1VDA5OjM3OjM5LjM4MyIsIm1vYyI6IldFQl9GT1JNIiwic3ViIjoiRW1haWwiLCJpc3MiOiJ3d3cueWFob28uY29tIiwidGVuYW50SWQiOiI5ZjJmNGVmYi1kMWU5LTQwNWYtOGRkYS00MzA1NDQ4ODEyMWIiLCJkZXNjcmlwdGlvbiI6ImRlc2MiLCJjb25zZW50VHlwZSI6IkZPUk1TVUJNSVQiLCJkb3VibGVPcHRJbiI6ZmFsc2UsInBvbGljeV91cmkiOm51bGwsImFsbG93Tm90R2l2ZW5Db25zZW50cyI6ZmFsc2UsInB1cnBvc2VzIjpbeyJpZCI6ImQ3ZWMwMDEwLTg2YjUtNGY5Ny05ZGZlLTllYzFmMTBjNDg0OCIsInZlcnNpb24iOjEsInRvcGljcyI6W10sImN1c3RvbVByZWZlcmVuY2VzIjpbXX1dLCJub3RpY2VzIjpbXSwiZHNEYXRhRWxlbWVudHMiOltdfQ.L5Ac3rqR6giPaf0p5ffwvUqMBmenS4lSNmDFpNJjWlOEhZT_k_vaqxBnD4WFQD3IWPM4oGnDwPhmnvfHQsoKTI4HkQrDpY-3_Junbe7D1hVKIJd2O-t66xPpC8iZmkr33VFHYz-VzeOjEbTe9BwWUcuAgTpGuRNkMAneNJ374-Hc5USp1OsUtZQn8j05eHNHMlN8IgOIpoiJmWurcPk0qXrt-OlM2TaHAo_YmAlINBqrC7-CDL3bdY4nFhHr7p3P4EFRRlcgKT96l8G6TuyNsMG7Njb8EnukFmnj6C0-VyH9iqMx-5sZnyc41zleqAE0iXF2sprHtjCFv6EIEl9SXw";      
      OneTrust.Api.TriggerReceiptAction(identifier, token, cp1Purpose).then((receiptId) => {
        console.log("Form 1 got the receipt id back:", receiptId);
        window.alert(`Form 1 got the receipt id back: ${receiptId}`);
      });
    });

    $("#sample_form3").submit(function (event) {
      event.preventDefault();
      const identifier = $("#inputEmail3").val();
      const token = "eyJhbGciOiJSUzUxMiJ9.eyJvdEp3dFZlcnNpb24iOjEsInByb2Nlc3NJZCI6IjI0MTc4Y2U0LWEzMTEtNDQ5Yi05NmIyLWMwNDc5YjU5NjJjOCIsInByb2Nlc3NWZXJzaW9uIjoxLCJpYXQiOiIyMDE5LTEwLTA3VDA3OjI0OjE1LjQ3MyIsIm1vYyI6IldFQl9GT1JNIiwic3ViIjoiRW1haWwiLCJpc3MiOm51bGwsInRlbmFudElkIjoiOWYyZjRlZmItZDFlOS00MDVmLThkZGEtNDMwNTQ0ODgxMjFiIiwiZGVzY3JpcHRpb24iOiJuZXdDUDEiLCJjb25zZW50VHlwZSI6Ik9QVElOQ0hFQ0tCT1giLCJkb3VibGVPcHRJbiI6ZmFsc2UsInBvbGljeV91cmkiOm51bGwsImFsbG93Tm90R2l2ZW5Db25zZW50cyI6ZmFsc2UsInB1cnBvc2VzIjpbeyJpZCI6IjM4OThlOWQ1LWNhODUtNDU3Yy04YjZjLWQ1OWRmMWVkNjY0NSIsInZlcnNpb24iOjMsInRvcGljcyI6W10sImN1c3RvbVByZWZlcmVuY2VzIjpbXX0seyJpZCI6ImQ3ZWMwMDEwLTg2YjUtNGY5Ny05ZGZlLTllYzFmMTBjNDg0OCIsInZlcnNpb24iOjEsInRvcGljcyI6W10sImN1c3RvbVByZWZlcmVuY2VzIjpbXX1dLCJub3RpY2VzIjpbXSwiZHNEYXRhRWxlbWVudHMiOlsiVGl0bGUiXX0.hayE0SKG6-VqUX8ZIghQaCENBsPbIMyDAFK_1EVwUA4nKBTNM_PMp9fOA-tGvkfDXEvfbADvOIfQk-bjCj9mKFT0nM4f7laa5r7oXtYzr-iAsoZobYMdRhgk7Gucd1KmkqEz0cqhlo-NrzR-H4a3RV3CYE9C4QnWCZ4E7U2cGC728-8jxIZnCBXQHcqaV5NAjVqzLWvFYvbvkw_fLRKeMoP9OpnPnA98sA39qE2-GXC82_7oqdIDGJMeNgj2p4AaaVImMGfLy9YrIUNNoPQhq5youIIytgfHdY4YYZWmiAUc002G6OMN5HnEt4IiWJX5KToC4vPa-p-DYrij4b66GQ";	  
      OneTrust.Api.TriggerReceiptAction(identifier, token, combinedPurpose).then((receiptId) => {
        console.log("Form 2 got the receipt id back:", receiptId);
        window.alert(`Form 2 got the receipt id back: ${receiptId}`);
      });
    });
	
	
	  
  });
</script>
<!-- Custom Integration End -->

</html>
